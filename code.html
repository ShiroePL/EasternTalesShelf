<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eastern Tales Shelf - Your Portal to Eastern Stories</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
    <!-- AOS Library CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Font Awesome (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- Base Styles & Variables (Manhwa Theme) --- */
        :root {
            --bg-color: #1a1a1d; /* Slightly softer dark */
            --card-bg-color: #28282c; /* Dark grey cards */
            /* --primary-accent: #ffb6c1; /* Light Pink */
            --primary-accent: #f8b1cc; /* Softer, slightly more saturated pink */
            --secondary-accent: #ffddf4; /* Very Light Pink / almost white */
            /* --tertiary-accent: #a8d8ea; /* Soft Blue - optional contrast */
            --tertiary-accent: #f0e68c; /* Khaki/Soft Gold - optional contrast */


            --text-color: #e8e8e8; /* Light grey text */
            --text-muted: #b0b0b0; /* Dimmer text */
            --border-color: #444444;
            --font-family-body: 'Poppins', sans-serif;
            --font-family-heading: 'Playfair Display', serif; /* More elegant heading font */

             /* Branch/Petal colors */
            --branch-color: #a4846d; /* Muted brown for branch */
            --petal-color: var(--primary-accent);
            --petal-highlight: var(--secondary-accent);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family-body);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden; /* Prevent horizontal scroll */
            position: relative; /* Needed for absolute positioning of SVG */
        }

        .container {
            max-width: 1100px; /* Slightly narrower */
            margin: 0 auto;
            padding: 0 20px;
            position: relative; /* Ensure container content is above SVG if needed */
            z-index: 2;
        }

        h1, h2, h3 {
            font-family: var(--font-family-heading);
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--secondary-accent); /* Lighter pink for main headings */
        }

        h1 { font-size: 3.2rem; line-height: 1.2; }
        h2 { font-size: 2.5rem; }
        h3 { font-size: 1.6rem; color: var(--primary-accent); } /* Main pink for sub-headings */
        h4 { font-family: var(--font-family-body); font-weight: 600; color: var(--text-color); }


        p {
            margin-bottom: 1rem;
            color: var(--text-muted);
        }

        a {
            color: var(--primary-accent);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        a:hover {
            color: var(--secondary-accent);
        }

        section {
            padding: 100px 0; /* More padding */
            border-bottom: 1px solid var(--border-color);
            position: relative; /* Needed for z-index stacking context */
             z-index: 2; /* Keep section content above SVG */
             background-color: var(--bg-color); /* Ensure sections have bg */
        }
        section:last-of-type {
            border-bottom: none;
        }

         /* Prevent sections overlapping absolutely positioned elements */
        #features, #ui-animations, #tech-stack {
            background-color: rgba(26, 26, 29, 0.85); /* Slightly transparent background for sections to see branch */
            backdrop-filter: blur(5px); /* Optional: blur background behind sections */
        }


        /* --- Header / Hero Section --- */
        #hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
             /* Placeholder - replace with a fitting image */
            background: linear-gradient(rgba(26, 26, 29, 0.85), rgba(26, 26, 29, 1)), url('https://via.placeholder.com/1920x1080/2a2a2a/ffb6c1?text=Elegant+Manhwa-Style+Background') no-repeat center center/cover;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 800px;
        }

        #hero h1 {
            color: #fff;
            font-weight: 600;
            opacity: 0;
            transform: translateY(30px);
        }
        #hero .tagline {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--text-color);
            opacity: 0;
            transform: translateY(30px);
        }
        .cta-button {
            display: inline-block;
            background-color: var(--primary-accent);
            color: var(--bg-color);
            padding: 12px 35px;
            border-radius: 5px; /* Slightly sharper edges */
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--primary-accent);
            cursor: pointer;
            opacity: 0;
            transform: translateY(30px);
            box-shadow: 0 4px 15px rgba(248, 177, 204, 0.2);
        }
        .cta-button:hover {
            background-color: var(--secondary-accent);
            color: #333; /* Darker text on light hover */
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(248, 177, 204, 0.4);
        }

        /* --- Features Section --- */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 35px;
        }

        .feature-card {
            background-color: var(--card-bg-color);
            padding: 30px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--primary-accent); /* Accent border */
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease;
            text-align: left; /* Align text left for readability */
            perspective: 1000px;
            position: relative; /* For potential pseudo-elements */
            overflow: hidden; /* Contain effects */
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

         /* GSAP handles hover now */

        .feature-card .icon {
            font-size: 2.5rem; /* Slightly smaller icon */
            color: var(--primary-accent);
            margin-bottom: 1rem;
            display: block; /* Icon on its own line */
            transition: transform 0.3s ease;
        }
        .feature-card:hover .icon {
             transform: scale(1.1) rotate(-3deg);
        }
        .feature-card h3 {
             margin-bottom: 0.5rem;
             color: var(--primary-accent);
        }

        /* --- UI & Animations Section --- */
         .ui-showcase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        .ui-item {
            background-color: var(--card-bg-color);
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid var(--tertiary-accent); /* Use tertiary for variety */
        }
        .ui-item h4 {
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            color: var(--secondary-accent);
        }
        .ui-item i { margin-right: 8px; color: var(--tertiary-accent); }


        /* --- Demo Heart Animation --- */
        .heart-demo { margin-top: 40px; text-align: center; }
        .interactive-heart {
            font-size: 4rem;
            color: var(--text-muted);
            cursor: pointer;
            transition: color 0.3s ease, transform 0.3s ease;
            position: relative; display: inline-block;
        }
        .interactive-heart.favorited { color: var(--primary-accent); transform: scale(1.1); }
        .interactive-heart i { transition: transform 0.2s ease-out; }
        .interactive-heart:active i { transform: scale(0.8); }
        .particles { position: absolute; top: 50%; left: 50%; width: 1px; height: 1px; pointer-events: none; z-index: 10; }

        /* --- Tech Stack Section --- */
         #tech-stack { background-color: var(--card-bg-color); }
        .tech-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; margin-top: 40px; }
        .tech-item { text-align: center; transition: transform 0.3s ease; }
        .tech-item:hover { transform: translateY(-5px); }
        .tech-item i { font-size: 3.5rem; margin-bottom: 10px; color: var(--primary-accent); transition: color 0.3s ease; }
        .tech-item:hover i { color: var(--secondary-accent); }
        .tech-item span { display: block; color: var(--text-muted); font-size: 0.9rem; }

        /* --- Footer --- */
        footer { text-align: center; padding: 40px 20px; background-color: var(--bg-color); color: var(--text-muted); font-size: 0.9rem; }
        footer p { margin-bottom: 0.5rem; }
        footer a { color: var(--primary-accent); }
        footer .heart { color: var(--primary-accent); } /* Pink heart */


        /* --- SVG Branch and Petals --- */
        #scroll-animation-container {
            position: absolute; /* Position relative to body */
            top: 0;
            left: 10px; /* Position slightly off the left edge */
            width: 100px; /* Width of the area for the SVG branch */
            height: 100%; /* Full height of the scrollable area */
            z-index: 1; /* Behind main content but above body background */
            pointer-events: none; /* Allow clicks to pass through */
        }

        #branch-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: visible; /* Allow path to draw outside bounds if needed */
        }

        #branch-path {
            fill: none;
            stroke: var(--branch-color);
            stroke-width: 3; /* Thinner branch */
            stroke-linecap: round; /* Nicer line ends */
            stroke-linejoin: round;
            /* stroke-dasharray and stroke-dashoffset will be set by JS */
        }

        .petal {
            position: absolute;
            width: 10px; /* Petal size */
            height: 14px; /* Slightly oval */
            background-color: var(--petal-color);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; /* Basic petal shape */
            box-shadow: inset 0 -2px 3px rgba(0,0,0,0.2), 0 1px 2px var(--petal-highlight);
            opacity: 0; /* Initially hidden */
            transform: scale(0); /* Initially hidden */
            transform-origin: bottom center;
            pointer-events: none; /* Non-interactive */
            z-index: 2; /* Above the branch line */
            /* Position will be set by JS/inline style */
        }


        /* --- Responsive --- */
        @media (max-width: 1200px) {
             #scroll-animation-container {
                left: 5px; /* Adjust position */
             }
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            section { padding: 80px 0; }
            .features-grid { grid-template-columns: 1fr; }
            .ui-showcase-grid { grid-template-columns: 1fr; }
            .tech-grid { gap: 30px; }
            .tech-item i { font-size: 3rem; }

             /* Hide scroll animation on small screens if it's too distracting or complex */
             #scroll-animation-container {
                 display: none;
             }
        }

    </style>
</head>
<body>

    <!-- Container for Scroll Animation Elements -->
    <div id="scroll-animation-container">
        <svg id="branch-svg" viewBox="0 0 100 2400" preserveAspectRatio="xMidYMax slice">
            <!--
                Complex path data defining the branch shape.
                Starts near top (y=100), ends near bottom (y=2300).
                Adjust 'd' attribute based on your desired branch shape.
                This is a *very* simplified example path. Use an SVG editor for a nice one.
                ViewBox height (2400) roughly corresponds to scrollable height. Adjust as needed.
            -->
            <path id="branch-path" d="M 50 100 C 80 200, 20 400, 50 500 S 80 700, 50 800 C 20 950, 80 1100, 50 1250 S 20 1450, 50 1600 C 80 1800, 20 2000, 50 2300" />
        </svg>
        <!-- Petals will be added here by JS -->
    </div>


    <!-- Hero Section -->
    <section id="hero">
        <div class="container hero-content">
            <div style="font-size: 4rem; margin-bottom: 1rem; opacity: 0; color: var(--primary-accent);" id="hero-logo-placeholder"><i class="fa-solid fa-book-heart"></i></div>
            <h1 id="hero-title">Eastern Tales Shelf</h1>
            <p class="tagline" id="hero-tagline">Your Elegant Sanctuary for Eastern Novels & Manga.</p>
            <a href="#features" class="cta-button" id="hero-button">Discover the Charm</a>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features">
        <div class="container">
            <h2 data-aos="fade-up">Core Features</h2>
            <p data-aos="fade-up" data-aos-delay="100">Manage your reading list with grace and efficiency.</p>
            <div class="features-grid">
                 <!-- Feature 1: AniList Sync -->
                <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="icon"><i class="fas fa-sync-alt"></i></div>
                    <h3>AniList Integration</h3>
                    <p>Seamlessly synchronize your manga and novel library with your AniList account. Keep everything elegantly aligned.</p>
                </div>
                <!-- Feature 2: Tracking -->
                <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="icon"><i class="fas fa-list-check"></i></div>
                    <h3>Status Tracking</h3>
                    <p>Track your progress with beautifully coded statuses: Reading, Completed, Planning, Dropped, or Paused.</p>
                </div>
                <!-- Feature 3: Source Linking -->
                <div class="feature-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="icon"><i class="fas fa-link"></i></div>
                    <h3>Direct Source Linking</h3>
                    <p>Link directly to preferred reading sources like Bato.to for instant access to the latest chapters.</p>
                </div>
                 <!-- Feature 4: Real-time Updates -->
                <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="icon"><i class="fas fa-bell"></i></div>
                    <h3>Real-time Updates</h3>
                    <p>Receive delicate notifications when new chapters or updates bloom for titles you cherish.</p>
                </div>
                 <!-- Feature 5: Filtering & Search -->
                <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="icon"><i class="fas fa-filter"></i></div>
                    <h3>Advanced Filtering</h3>
                    <p>Refine your collection by type, status, origin (Korea, Japan, China), tags, and more. Find treasures effortlessly.</p>
                </div>
                 <!-- Feature 6: Customization -->
                 <div class="feature-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="icon"><i class="fas fa-palette"></i></div>
                    <h3>Customizable UI</h3>
                    <p>Adorn your reading space with custom color themes that apply instantly across the application.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- UI & Animations Section -->
    <section id="ui-animations">
        <div class="container">
             <h2 data-aos="fade-right">Enchanting UI & Animations</h2>
            <p data-aos="fade-right" data-aos-delay="100">An interface designed to delight, with animations that flow like silk.</p>

            <div class="ui-showcase-grid">
                <div class="ui-item" data-aos="zoom-in" data-aos-delay="200">
                    <h4><i class="fas fa-cube"></i> 3D Card Effects</h4>
                    <p>Cards possess a subtle depth, responding gently to your cursor.</p>
                </div>
                <div class="ui-item" data-aos="zoom-in" data-aos-delay="300">
                    <h4><i class="fas fa-film"></i> Graceful Transitions</h4>
                    <p>Content unfolds smoothly with soft fades and slides.</p>
                </div>
                 <div class="ui-item" data-aos="zoom-in" data-aos-delay="400">
                    <h4><i class="fas fa-feather-alt"></i> Animate on Scroll</h4>
                    <p>Elements waltz into view as you scroll, guided by AOS.</p>
                </div>
                 <div class="ui-item" data-aos="zoom-in" data-aos-delay="500">
                    <h4><i class="fas fa-burst"></i> Sparkling Interactions</h4>
                    <p>Engaging feedback, like petal bursts on favorite actions (GSAP).</p>
                </div>
                <div class="ui-item" data-aos="zoom-in" data-aos-delay="600">
                    <h4><i class="fas fa-mobile-screen-button"></i> Responsive Design</h4>
                    <p>Flawless elegance on desktops, tablets, and phones.</p>
                </div>
                 <div class="ui-item" data-aos="zoom-in" data-aos-delay="700">
                     <h4><i class="fas fa-palette"></i> Live Theme Changes</h4>
                    <p>Instantly tailor the mood with your preferred color palettes.</p>
                </div>
            </div>

            <!-- Demo Heart Animation -->
            <div class="heart-demo" data-aos="fade-up" data-aos-delay="300">
                <h3>Try the Favorite Animation!</h3>
                <p>Click the heart to witness a sprinkle of magic.</p>
                <div class="interactive-heart" id="demoHeart">
                    <i class="far fa-heart"></i>
                    <div class="particles"></div>
                </div>
            </div>

        </div>
    </section>

     <!-- Technical Stack Section -->
    <section id="tech-stack">
         <div class="container">
            <h2 data-aos="fade-left">Crafted With Modern Magic</h2>
            <p data-aos="fade-left" data-aos-delay="100">Built upon a foundation of powerful and reliable technologies.</p>
            <div class="tech-grid">
                <!-- Repeat tech items as before, styling will match theme -->
                 <div class="tech-item" data-aos="fade-up" data-aos-delay="200"> <i class="fab fa-python"></i><span>Flask (Python)</span> </div>
                <div class="tech-item" data-aos="fade-up" data-aos-delay="250"> <i class="fas fa-database"></i><span>SQLAlchemy</span> </div>
                 <div class="tech-item" data-aos="fade-up" data-aos-delay="300"> <i class="fab fa-html5"></i><span>HTML5</span> </div>
                <div class="tech-item" data-aos="fade-up" data-aos-delay="350"> <i class="fab fa-css3-alt"></i><span>CSS3</span> </div>
                 <div class="tech-item" data-aos="fade-up" data-aos-delay="400"> <i class="fab fa-js-square"></i><span>JavaScript</span> </div>
                 <div class="tech-item" data-aos="fade-up" data-aos-delay="450"> <i class="fab fa-bootstrap"></i><span>Bootstrap 5</span> </div>
                <div class="tech-item" data-aos="fade-up" data-aos-delay="500"> <i class="fas fa-leaf"></i><span>GSAP</span> </div>
                 <div class="tech-item" data-aos="fade-up" data-aos-delay="550"> <i class="fas fa-feather-alt"></i><span>AOS</span> </div>
                 <div class="tech-item" data-aos="fade-up" data-aos-delay="600"> <i class="fab fa-docker"></i><span>Docker</span> </div>
                <div class="tech-item" data-aos="fade-up" data-aos-delay="650"> <i class="fas fa-code-branch"></i><span>REST APIs</span> </div>
                <div class="tech-item" data-aos="fade-up" data-aos-delay="700"> <i class="fas fa-spider"></i><span>Scrapy</span> </div>
                 <div class="tech-item" data-aos="fade-up" data-aos-delay="750"> <i class="fas fa-shield-alt"></i><span>Security</span> </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p><strong>Eastern Tales Shelf</strong> - Awaiting its Grand Debut!</p>
            <p>Follow the development journey on <a href="[Your GitHub Repo Link]" target="_blank" rel="noopener noreferrer">GitHub</a> (Link Placeholder)</p>
            <p>Made with <span class="heart">💖</span> for connoisseurs of Eastern tales.</p>
        </div>
    </footer>

    <!-- AOS Library JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- GSAP Core & ScrollTrigger Plugin JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true, // Keep AOS animations once for simplicity with ScrollTrigger
            offset: 50,
        });

        // --- GSAP Animations ---
        gsap.registerPlugin(ScrollTrigger); // Register ScrollTrigger plugin

        document.addEventListener('DOMContentLoaded', () => {
            // --- Hero Animation ---
            const heroTl = gsap.timeline();
            heroTl.to('#hero-logo-placeholder', { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out' })
                  .to('#hero-title', { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out' }, "-=0.4")
                  .to('#hero-tagline', { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out' }, "-=0.4")
                  .to('#hero-button', { opacity: 1, y: 0, duration: 0.5, ease: 'back.out(1.7)' }, "-=0.3");

             // --- Feature Card Hover (Simpler Tilt) ---
             const cards = document.querySelectorAll('.feature-card');
             cards.forEach(card => {
                 const rotateAmount = 5; // Max rotation degrees
                 card.addEventListener('mousemove', (e) => {
                     const rect = card.getBoundingClientRect();
                     const x = e.clientX - rect.left - rect.width / 2;
                     const y = e.clientY - rect.top - rect.height / 2;
                     const rotateX = -(y / rect.height) * rotateAmount;
                     const rotateY = (x / rect.width) * rotateAmount;

                     gsap.to(card, {
                         rotationX: rotateX,
                         rotationY: rotateY,
                         scale: 1.02, // Very subtle scale
                         boxShadow: "0 8px 25px rgba(0,0,0,0.3)",
                         duration: 0.7,
                         ease: 'power1.out'
                     });
                 });

                 card.addEventListener('mouseleave', () => {
                     gsap.to(card, {
                         rotationX: 0,
                         rotationY: 0,
                         scale: 1,
                         boxShadow: "0 5px 15px rgba(0,0,0,0.2)",
                         duration: 0.7,
                         ease: 'elastic.out(1, 0.7)'
                     });
                 });
             });


            // --- Interactive Heart ---
             const demoHeart = document.getElementById('demoHeart');
            const heartIcon = demoHeart.querySelector('i');
            const particlesContainer = demoHeart.querySelector('.particles');
            let isFavorited = false;

             demoHeart.addEventListener('click', () => {
                isFavorited = !isFavorited;
                demoHeart.classList.toggle('favorited', isFavorited);
                heartIcon.classList.toggle('far', !isFavorited);
                heartIcon.classList.toggle('fas', isFavorited);

                if (isFavorited) {
                    createHeartParticles(particlesContainer); // Use renamed function
                    gsap.fromTo(heartIcon, { scale: 1 }, { scale: 1.2, duration: 0.2, yoyo: true, repeat: 1, ease: 'power1.inOut' });
                }
             });

             function createHeartParticles(container) {
                container.innerHTML = '';
                const particleCount = 15;
                const colors = ['var(--primary-accent)', 'var(--secondary-accent)', '#FFFFFF'];
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    // Style similar to petals for thematic consistency
                    particle.style.position = 'absolute';
                    particle.style.width = `${gsap.utils.random(5, 10)}px`;
                    particle.style.height = particle.style.width;
                    particle.style.backgroundColor = gsap.utils.random(colors);
                    particle.style.borderRadius = '50%';
                    container.appendChild(particle);
                    gsap.set(particle, { xPercent: -50, yPercent: -50, x: 0, y: 0, opacity: 1 }); // Center on container
                    gsap.to(particle, {
                        x: gsap.utils.random(-60, 60),
                        y: gsap.utils.random(-60, 60),
                        opacity: 0,
                        scale: gsap.utils.random(0.2, 0.6),
                        duration: gsap.utils.random(0.6, 1.3),
                        ease: 'power2.out',
                        onComplete: () => particle.remove()
                    });
                }
             }


            // --- Scroll-Driven Branch and Petal Animation ---
            const branchPath = document.getElementById('branch-path');
            const animationContainer = document.getElementById('scroll-animation-container');
            const pathLength = branchPath.getTotalLength();

            // Set initial styles for the path drawing animation
            branchPath.style.strokeDasharray = pathLength;
            branchPath.style.strokeDashoffset = pathLength;

            // --- Petal Configuration ---
            // Define petal positions along the path (0 = start, 1 = end)
            // And their offset from the path (adjust xOffset)
            const petalConfigs = [
                { progress: 0.15, xOffset: 15 + Math.random() * 10, yOffset: 0, rotation: -20 },
                { progress: 0.25, xOffset: -10 - Math.random() * 10, yOffset: 5, rotation: 30 },
                { progress: 0.38, xOffset: 20 + Math.random() * 10, yOffset: -5, rotation: -10 },
                { progress: 0.50, xOffset: -15 - Math.random() * 10, yOffset: 0, rotation: 15 },
                { progress: 0.65, xOffset: 10 + Math.random() * 10, yOffset: 5, rotation: -25 },
                { progress: 0.78, xOffset: -20 - Math.random() * 10, yOffset: -5, rotation: 40 },
                { progress: 0.90, xOffset: 15 + Math.random() * 10, yOffset: 0, rotation: -15 },
                 // Add more petals as desired
            ];

            // Create petal elements and position them
            petalConfigs.forEach((config, index) => {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                petal.id = `petal-${index}`;

                // Get point along the SVG path
                const point = branchPath.getPointAtLength(pathLength * config.progress);

                // Position the petal div relative to the animation container
                // Adjustments might be needed based on SVG viewbox/positioning
                petal.style.left = `${point.x + config.xOffset}px`;
                petal.style.top = `${point.y + config.yOffset}px`;
                 petal.style.transform = `scale(0) rotate(${config.rotation}deg)`; // Initial state

                animationContainer.appendChild(petal);
            });

             // --- GSAP ScrollTimeline ---
             const scrollTimeline = gsap.timeline({
                 scrollTrigger: {
                     trigger: "body", // Trigger based on overall body scroll
                     start: "top top", // Animation starts when top of body hits top of viewport
                     end: "bottom bottom", // Ends when bottom of body hits bottom of viewport
                     scrub: 1.5, // Smoothly links animation to scroll (higher number = more smoothing/lag)
                     // markers: true // Uncomment for debugging start/end points
                 }
             });

             // Add branch drawing animation to the timeline
             scrollTimeline.to(branchPath, {
                 strokeDashoffset: 0,
                 ease: "none" // Linear drawing tied to scroll
             }, 0); // Add at the beginning of the timeline (time = 0)

            // Add petal blooming animations to the timeline
             petalConfigs.forEach((config, index) => {
                 const petalElement = document.getElementById(`petal-${index}`);
                 // Animate each petal: Start blooming slightly *after* its point on the branch is drawn
                 scrollTimeline.to(petalElement, {
                     opacity: 1,
                     scale: 1, // Bloom to full size
                     ease: "elastic.out(1, 0.7)", // Bouncy bloom effect
                     duration: 0.5 // Duration of the bloom itself
                 }, config.progress * 0.9); // Start animation when scroll progress is ~90% of the way to the petal's position
             });

        }); // End DOMContentLoaded

    </script>

</body>
</html>